<div class="container">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Crear nuevo objetivo</h3>
    </div>
    <div class="panel-body">
      <form (submit)="onCreateProject()">
        <div class="form-group">
          <label>Objetivo</label>
          <input type="text" class="form-control" [(ngModel)]="newProjectName" placeholder="Nuevo Objetivo" name="newProjectName">
        </div>
        <input type="submit" class="btn btn-success" value="Crear">
      </form>
    </div>
  </div>
    
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title">Abrir un objetivo guardado</h3>
    </div>
    <table class="table table-hover table-striped container">
      <tr class="active row">
        <th class="col-md-8">Objetivo</th>
        <th class="col-md-3">Modificado</th>
        <th class="col-md-1 text-center">Borrar</th>
      </tr>
      <tr *ngFor="let project of projects; let i=index" class="row">
        <div *ngIf="userId == project.masterId; then master else evaluator"></div>
        <ng-template #master>
          <th class="col-md-8" (click)=onSelectProject(i)>{{project.name}}</th>
          <th class="col-md-3" (click)=onSelectProject(i)>{{project.updated}}</th>
          <th class="col-md-1 text-center">
            <button type="button" class="glyphicon glyphicon-remove remove btn-link text-danger"
              (click)=onSelectProjectToRemove(project)
              data-toggle="modal" data-target="#confirmacion"></button>
          </th>
        </ng-template>
        <ng-template #evaluator>
          <th class="col-md-8 pending" (click)=onSelectProject(i)>{{project.name}}</th>
          <th class="col-md-3 pending" (click)=onSelectProject(i)>{{project.updated}}</th>
          <th class="col-md-1 text-center pending">
            <button type="button" class="glyphicon glyphicon-remove remove btn-link text-danger"
              (click)=onSelectProjectToRemove(project)
              data-toggle="modal" data-target="#confirmacion"></button>
          </th>
        </ng-template>
      </tr>
    </table>
  </div>
  
  <div class="modal fade" id="confirmacion" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <p>¿Deseas eliminar el objetivo?</p>
          <p>{{projectToRemove.name}}</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" data-dismiss="modal" (click)="onRemoveProject()">Aceptar</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal">Cancelar</button>
        </div>
      </div>    
    </div>
  </div>
</div>
  





